!function a(b,c,d){function e(g,h){if(!c[g]){if(!b[g]){var i="function"==typeof require&&require;if(!h&&i)return i(g,!0);if(f)return f(g,!0);var j=new Error("Cannot find module '"+g+"'");throw j.code="MODULE_NOT_FOUND",j}var k=c[g]={exports:{}};b[g][0].call(k.exports,function(a){var c=b[g][1][a];return e(c?c:a)},k,k.exports,a,b,c,d)}return c[g].exports}for(var f="function"==typeof require&&require,g=0;g<d.length;g++)e(d[g]);return e}({1:[function(a,b,c){!function(a,c){"object"==typeof b&&"object"==typeof b.exports?b.exports=c(window.jQuery):a.Rest=c(window.jQuery)}(this,function(a){function b(c){this.options={cache:!1,dataType:"json",contentType:"application/json",statusCode:{400:function(){b.showErrorNotification("Что-то пошло не так")},403:function(){b.showErrorNotification("Доступ запрещен")},404:function(){b.showErrorNotification("Что-то пошло не так")},415:function(){b.showErrorNotification("Неподдерживаемый тип данных")},500:function(){b.showErrorNotification("Ошибка сервера")},501:function(){b.showErrorNotification("Ошибка сервера")},502:function(){b.showErrorNotification("Ошибка сервера")},503:function(){b.showErrorNotification("Ошибка сервера")},504:function(){b.showErrorNotification("Ошибка сервера")}}},a.extend(!0,this.options,c||{})}return b.prototype.query=function(b){var c={};return a.extend(!0,c,this.options,b),a.ajax(c)},b.collectErrors=function(b,c){var d,e=[];if(b.responseText)try{d=JSON.parse(b.responseText).errors}catch(a){d=b.responseText}else d=b.errors;return d=d||c,a.isPlainObject(d)?a.each(d,function(a,b){e=e.concat(b)}):e=e.concat(d),e},b.showErrorNotification=function(b,c){a.notifications.error(b,c)},b})},{}],2:[function(a,b,c){var d=a("./product/ProductStickers.js");!function(){var a=new d,b=document.getElementById("product-stickers-container");b&&!ko.dataFor(b)&&ko.applyBindings(a,b)}()},{"./product/ProductStickers.js":3}],3:[function(a,b,c){function d(){this.stickers=ko.observableArray([]),this.isPopoverVisible=ko.observable(!1),this.openedPopoverType=ko.observable(""),this._initStickers(),this._initEvents()}var e=a("../services/catalogApiService");d.prototype.togglePopover=function(a,b,c,d){a.type&&!a.text||(this.isPopoverVisible()&&this.openedPopoverType()!==b?(this.closePopover(),this.openPopover(b)):this.isPopoverVisible()?this.closePopover():this.openPopover(b))},d.prototype.openPopover=function(a){this.openedPopoverType(a),this.isPopoverVisible(!0),this._initPopoverPosition()},d.prototype.closePopover=function(){this.openedPopoverType(""),this.isPopoverVisible(!1)},d.prototype._initStickers=function(){var a=this,b={};b.success=function(b){a.stickers(b.data.stickers)},e.getProduct(window.PRODUCT_KEY,null,null,b)},d.prototype._initEvents=function(){var a=this;$("body").on("click",function(b){!$(b.target).parents(".js-popover-container").length&&a.isPopoverVisible()&&a.closePopover()})},d.prototype._initPopoverPosition=function(){var a=$(window),b=$(".popover-style_visible"),c=b.closest(".popover-style__handle"),d=c.find(".popover-style__tail"),e=a.outerWidth(),f=b.outerWidth(),g=c.outerWidth(),h=d.outerWidth(),i=16;b.css("margin-left",""),d.css("margin-left","");var j=b.offset().left,k=j+f,l=e-k-i;l<0&&b.css("margin-left",l+"px");var m=c.offset().left,n=d.offset().left,o=m-n+(g-h)/2;d.css("margin-left",o+"px")},b.exports=d},{"../services/catalogApiService":4}],4:[function(a,b,c){function d(){return f||(f=new e),f}function e(){this.rest=new g({statusCode:{404:null}}),this.apiService=new window.ApiService({baseURL:"/sdapi/catalog.api"})}var f,g=a("../modules/Rest.js");e.prototype.getProduct=function(a,b,c,d){var c=$.extend(c||{},{data:b,path:"/products/"+a,type:"GET"});return this._query(c,d)},e.prototype._query=function(a,b){var a=a||{},b=b||{},c={url:a.path||"",method:a.type,data:a.data||{},callbacks:b};return this.apiService.query(c)},b.exports=d()},{"../modules/Rest.js":1}]},{},[2]);